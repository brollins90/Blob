@using Before.Infrastructure.Extensions
@model Blob.Contracts.Models.ViewModels.CustomerSingleVm
@{
    ViewBag.Title = "Customer";
}

<h2>@ViewBag.Title.</h2>

<div class="row">
    <div class="col-md-12">
        <p class="text-success">@ViewBag.StatusMessage</p>

        <ul class="nav nav-tabs" role="tablist" id="customerTab">
            <li class="active"><a href="#manage" role="tab" data-toggle="tab">Manage</a></li>
            <li><a href="#users" role="tab" data-toggle="tab">Users</a></li>
            <li><a href="#devices" role="tab" data-toggle="tab">Devices</a></li>
        </ul>

        <div class="tab-content">

            <div class="tab-pane active" id="manage">

                @Html.NoEncodeActionLink("<span class='glyphicon glyphicon-pencil'></span>", "Edit", "Edit", "Customer", routeValues: new { id = Model.CustomerId }, htmlAttributes: new { data_modal = "", @class = "btn btn-default" })

                <dl>
                    <dt>
                        @Html.DisplayNameFor(model => model.Name)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.Name)
                    </dd>

                    <dt>
                        @Html.DisplayNameFor(model => model.CreateDate)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.CreateDate)
                    </dd>
                </dl>
            </div>

            <div class="tab-pane " id="users">
                <hr />
                @{ Html.RenderAction("List", "User", routeValues: new { models = Model.Users });}
            </div>

            <div class="tab-pane " id="devices">
                <hr />
                @{ Html.RenderAction("List", "Device", routeValues: new { models = Model.Devices });}
            </div>
        </div>
    </div>
</div>
